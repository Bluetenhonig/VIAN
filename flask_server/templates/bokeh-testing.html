<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Complete Example</title>


<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.0.0.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.0.0.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.0.0.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.0.0.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-api-2.0.0.min.js"></script>


</head>

<body>
    <script>
        //The order of CSS and JS imports above is important.
        </script>
        <script>
        // create a data source to hold data
        var source = new Bokeh.ColumnDataSource({
            data: { x: [10,15,31,3,21], y: [4,5,10,30,20] }
        });
        
        // make a plot with some tools
        var plot = Bokeh.Plotting.figure({
            title:'Example of Random data',
            tools: "lasso_select, pan,wheel_zoom,box_zoom,reset,save",
            height: 300,
            width: 300
        });
        
        plot.circle({x: {field:'x'}, y:{field:'y'}, source:source})
        console.log(source)
        plot.circle()
        
        // This works
        var callback = new Bokeh.CustomJS({args:{'source': source}, code:"console.log(source.data.x[0]);"})
        plot.add_tools(new Bokeh.HoverTool({callback:callback}))
        
        // This doesn't work
        // var callback2 = new Bokeh.CustomJS({args:{'source': source}, code:"console.log(source.data.x[0]);"})
        // console.log(source.selected.js_on_change)
        // source.selected.js_on_change({'indices': callback2})

        Bokeh.Plotting.show(plot);
        
        
        </script>
</body>

</html>